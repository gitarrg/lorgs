
# Custom Caching Policy for S3 Origins
# almost idenatical to AWS's "Managed-CachingOptimized"
# but with the addition of Query Strings
Type: AWS::CloudFront::CachePolicy
Properties:
  CachePolicyConfig:
    Name: s3-cache-policy
    MinTTL: 1
    MaxTTL: 31536000  # default: 1 year
    DefaultTTL: 86400 # default: 1 day
    ParametersInCacheKeyAndForwardedToOrigin:
      EnableAcceptEncodingGzip: true
      EnableAcceptEncodingBrotli: true
      CookiesConfig:
        CookieBehavior: none
      HeadersConfig:
        HeaderBehavior: none
      QueryStringsConfig:
        QueryStringBehavior: all
